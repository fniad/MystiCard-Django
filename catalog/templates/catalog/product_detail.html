{% extends 'catalog/base.html' %}
{% load static %}
{% load my_tags %}

{% block content %}
<div class="container" style="padding-top:40px; padding-bottom: 40px;">
    <div class="pricing-header mt-4 mb-4">
        <h1 class="display-5 text-center fw-normal text-body-emphasis mb-4">{{ object.name_product }}</h1>
    </div>
    <hr style="border: 0; height: 1px; background-color: #6c757d;">
    <div class="container-sm" style="padding-bottom: 80px; width: 45%;
    white-space: pre-wrap; overflow-wrap: break-word; hyphens: auto;">
        <div class="container"
             style="width: 100%; height: 250px; overflow: hidden; padding-bottom: 10px;">
            <img src="{% mediapath object.preview_img %}" class="img-fluid"
                 style="width: 100%; height: 100%; object-fit: cover;">
        </div>
        <p>{{ object.category }}</p>
        <h3>Описание:</h3>
        <p>{{ object.description_product }}</p>
        <h3>Цена: {{ object.purchase_price }} руб.</h3>
        <div class="btn-group" style="grid-row: 3">
            <button type="button" class="btn btn-sm btn-outline-secondary">Добавить в корзину</button>
        </div>
    </div>
    <div class="row justify-content-end">
        <div class="col-4">
            {% for version in object.version_set.all %}
            {% if version.is_current %}
            <p>Активная версия продукта: {{ version.version_number }}</p>
            <p>{{ version.version_name }}</p>
            {% endif %}
            {% endfor %}
            <div class="btn-group">
                <a href="{% url 'catalog:edit_product' object.pk %}"
                   class="btn btn-sm btn-outline-secondary">Редактировать</a>
                <a href="{% url 'catalog:delete_product' object.pk %}"
                   class="btn btn-sm btn-outline-warning">Удалить</a>
            </div>
        </div>
    </div>
</div>
<div class="pricing-header mt-4 mb-4">
</div>
{% endblock %}